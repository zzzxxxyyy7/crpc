# RPC 框架

> ## 介绍
>
> 一款基于 Vert.x + Etcd + SpringBoot  实现的自定义 RPC 框架。
>
> 同时引入其他通信协议，有 TCP 等，注册中心引入了 Zookeeper、Etcd等。

### 项目实现内容

-  实现了基于Http/Tcp俩种编码方式进行网络通信，并解决Tcp通信粘包丢包问题。
-  实现自定义RPC通信协议，自定义编解码器以及四种序列化方式（Kryo、Hession、JDK、JSON）。
-  实现Vert.x重试机制，实现固定检测重试，和提高服务响应速度。
-  以Etcd为注册中心，实现心跳检测、续期、服务下线以及服务缓存和监听，三种负载均衡算法（一致性哈希等）。
-  集成SpringBoot，实现通过注解扫描服务组件、注册服务以及消费服务（自动依赖注入），实现自动装配。
-  实现全局配置加载，可通过配置文件轻松实现多环境RPC的初始化，便于开箱直用

### RPC概述

RPC 又称远程过程调用（Remote Procedure Call），用于解决分布式系统中服务之间的调用问题。通俗地讲，就是开发者能够像调用本地方法一样调用远程的服务。一个最基本的RPC框架的基本架构如下图所示：

[![简单RPC架构图](https://github.com/viego1999/wxy-rpc/raw/master/images/%E7%AE%80%E5%8D%95RPC%E6%9E%B6%E6%9E%84%E5%9B%BE.png)](https://github.com/viego1999/wxy-rpc/blob/master/images/简单RPC架构图.png)

RPC框架一般必须包含三个组件，分别是**客户端、服务端**以及**注册中心**，一次完整的 RPC 调用流程一般为：

1. 服务端启动服务后，将他提供的服务列表发布到注册中心（服务注册）；
2. 客户端会向注册中心订阅相关的服务地址（服务订阅）；
3. 客户端通常会利用本地代理模块 Proxy 向服务端发起远程过程调用，Proxy 负责将调用的方法、参数等数据转化为网络字节流；
4. 客户端从服务列表中根据负载均衡策略选择一个服务地址，并将数据通过网络发送给服务端；
5. 服务端得到数据后，调用对应的服务，然后将结果通过网络返回给客户端。
